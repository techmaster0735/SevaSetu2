<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pending Approval - SevaSetu</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-hands-helping"></i>
                <span>SevaSetu</span>
            </div>
            <div class="nav-actions">
                <button class="btn btn-outline" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- Pending Approval Page -->
    <div class="pending-approval-page">
        <div class="container">
            <div class="pending-content">
                <div class="pending-icon">
                    <i class="fas fa-clock"></i>
                </div>
                
                <h1>Application Under Review</h1>
                <p class="pending-message">
                    Thank you for registering your NGO with SevaSetu! Your application is currently being reviewed by our team.
                </p>
                
                <div class="approval-process">
                    <h3>What happens next?</h3>
                    <div class="process-steps">
                        <div class="step completed">
                            <div class="step-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="step-content">
                                <h4>Application Submitted</h4>
                                <p>Your NGO registration has been successfully submitted</p>
                            </div>
                        </div>
                        
                        <div class="step active">
                            <div class="step-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <div class="step-content">
                                <h4>Document Verification</h4>
                                <p>Our team is verifying your organization's documents and credentials</p>
                            </div>
                        </div>
                        
                        <div class="step pending">
                            <div class="step-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="step-content">
                                <h4>Final Approval</h4>
                                <p>Once verified, you'll receive approval and can start creating projects</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="approval-info">
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="info-content">
                            <h4>Review Timeline</h4>
                            <p>The review process typically takes 2-5 business days. We'll notify you via email once your application is approved.</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="info-content">
                            <h4>Stay Updated</h4>
                            <p>You'll receive email notifications about your application status. Please check your inbox regularly.</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <div class="info-content">
                            <h4>Need Help?</h4>
                            <p>If you have questions about your application, contact our support team at support@sevasetu.org</p>
                        </div>
                    </div>
                </div>
                
                <div class="approval-actions">
                    <button class="btn btn-primary" onclick="checkStatus()">Check Status</button>
                    <button class="btn btn-outline" onclick="contactSupport()">Contact Support</button>
                </div>
                
                <div class="meanwhile-section">
                    <h3>Meanwhile, you can:</h3>
                    <div class="meanwhile-options">
                        <div class="option-card">
                            <i class="fas fa-book"></i>
                            <h4>Learn About SevaSetu</h4>
                            <p>Explore our platform features and understand how to maximize your impact</p>
                            <a href="about.html" class="btn btn-small btn-outline">Learn More</a>
                        </div>
                        
                        <div class="option-card">
                            <i class="fas fa-users"></i>
                            <h4>Browse Volunteer Community</h4>
                            <p>See the amazing volunteers ready to support your cause</p>
                            <a href="leaderboard.html" class="btn btn-small btn-outline">View Community</a>
                        </div>
                        
                        <div class="option-card">
                            <i class="fas fa-lightbulb"></i>
                            <h4>Plan Your Projects</h4>
                            <p>Start planning your first project while waiting for approval</p>
                            <button class="btn btn-small btn-outline" onclick="showProjectPlanning()">Get Ideas</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Project Planning Modal -->
    <div id="project-planning-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeModal('project-planning-modal')">&times;</span>
            <h2>Project Planning Tips</h2>
            
            <div class="planning-tips">
                <div class="tip-item">
                    <h4><i class="fas fa-bullseye"></i> Define Clear Objectives</h4>
                    <p>Set specific, measurable goals for your project. What impact do you want to achieve?</p>
                </div>
                
                <div class="tip-item">
                    <h4><i class="fas fa-users"></i> Identify Required Skills</h4>
                    <p>List the skills and expertise needed from volunteers to make your project successful.</p>
                </div>
                
                <div class="tip-item">
                    <h4><i class="fas fa-calendar"></i> Plan Timeline</h4>
                    <p>Create a realistic timeline with milestones and deadlines for your project phases.</p>
                </div>
                
                <div class="tip-item">
                    <h4><i class="fas fa-map-marker-alt"></i> Choose Location</h4>
                    <p>Select accessible locations where volunteers can easily participate in your project.</p>
                </div>
                
                <div class="tip-item">
                    <h4><i class="fas fa-chart-line"></i> Measure Impact</h4>
                    <p>Plan how you'll track and measure the success and impact of your project.</p>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="closeModal('project-planning-modal')">Got It!</button>
            </div>
        </div>
    </div>

    <script>
        // Check if user is logged in and is NGO
        document.addEventListener('DOMContentLoaded', function() {
            const user = JSON.parse(localStorage.getItem('sevasetu_user') || '{}');
            
            if (!user.id || user.role !== 'ngo') {
                window.location.href = 'auth.html';
                return;
            }
            
            if (user.isApproved) {
                window.location.href = 'ngo-dashboard.html';
                return;
            }
            
            // Update organization name if available
            if (user.name) {
                document.querySelector('.pending-message').innerHTML = 
                    `Thank you for registering <strong>${user.name}</strong> with SevaSetu! Your application is currently being reviewed by our team.`;
            }
        });

        function checkStatus() {
            // Simulate checking status
            const user = JSON.parse(localStorage.getItem('sevasetu_user') || '{}');
            
            // For demo purposes, randomly approve after checking status
            if (Math.random() > 0.7) {
                user.isApproved = true;
                localStorage.setItem('sevasetu_user', JSON.stringify(user));
                
                // Update stored users data
                const users = JSON.parse(localStorage.getItem('sevasetu_users') || '[]');
                const userIndex = users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    users[userIndex].isApproved = true;
                    localStorage.setItem('sevasetu_users', JSON.stringify(users));
                }
                
                alert('Great news! Your NGO has been approved. Redirecting to dashboard...');
                setTimeout(() => {
                    window.location.href = 'ngo-dashboard.html';
                }, 2000);
            } else {
                alert('Your application is still under review. We\'ll notify you once it\'s approved.');
            }
        }

        function contactSupport() {
            window.location.href = 'contact.html';
        }

        function showProjectPlanning() {
            document.getElementById('project-planning-modal').classList.remove('hidden');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        function logout() {
            localStorage.removeItem('sevasetu_user');
            window.location.href = 'index.html';
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.add('hidden');
            }
        });
    </script>
</body>
</html>